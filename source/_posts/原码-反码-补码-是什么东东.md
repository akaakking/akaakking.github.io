---
title: 原码 反码 补码 是什么东东
date: 2024-07-05 17:27:31
tags:
categories:
- code
---

## 四种码制与十进制的映射



### 二进制

十进制，在二进制码中的映射

![image-20240705180031142](https://raw.githubusercontent.com/akaakking/pic/master/image-20240705180031142.png)





### 原码

与普通二进制码不同的是，原码有一个符号位可以表示正负。



十进制，在二进制原码中的映射

​														![image-20240705174504853](https://raw.githubusercontent.com/akaakking/pic/master/image-20240705174504853.png)

### 反码

反码可以看作是原码除符号位外其他位全部取反



十进制在二进制反码中的映射

![image-20240705175241733](https://raw.githubusercontent.com/akaakking/pic/master/image-20240705175241733.png)

### 补码

补码可以看作是反码加一，但这并不是补码的定义，只是恰巧补码是反码加一。



十进制在二进制补码中的映射。

​													  ![image-20240705175227756](https://raw.githubusercontent.com/akaakking/pic/master/image-20240705175227756.png)



## 补码是怎么定义的

在计算机中加法器的实现结构要比减法器简单的多，因此我们需要想一想能不能用加法来实现减法。

一个比较常见的例子就是时钟，我写这篇文章的时候是晚上10点，我下午跑步的时间是6点。

想要回到6点，就得将时针往后拨4格，用数学语言描述即我们做了 10 - 4 = 6 的操作

但其实还有一种方法，就是时针再继续转上8个小时，时针就又指向了6， 用数学语言描述即我们做了 （10 + 8） % 12 = 6的操作



那么发现了这样一种等效映射 -4 -》 8

如果再列举一下还会发现 -3 -》 9 ，-2 -》 10 这样的映射， 他们满足这样一个关系      |a| + |b| = 12



其中12 是钟表的模，放在我们4位二进制中模就变成了 16

那么我们同样可以找到如下映射

-1  -》15 (1111)

-2 -》 14 (1110)

.....

我们发现这种映射恰好就和我们前面展示的补码映射相对应。



## 为什么原码的补码恰好是原码的取反加一呢

前边说过补码跟映射到的原码要满足这样一种关系

|补码| + |原码| = 模

假如说我们现在是4个比特位

那么

|补码| + |原码| = 10000(2)

|补码| = |原码| 按位取反 末尾加一。



要是这里理解不了的话，可以想这个例子

| 1111| + |1001| = 10000













